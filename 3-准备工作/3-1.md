# 1. BIOS设置

以下 BIOS 设置尽量参考一下，因为主板型号凌乱的原因，找不全也是很正常的，尽量靠齐这些设置就行。

## Intel 主板 BIOS 设置

### 关闭 - Disable

- **Fast Boot**
  - 快速启动
- **Secure Boot**
  - 安全启动
- **Serial/COM Port**
  - 串行通讯端口
- **Parallel Port**
  - 并行端口
- **VT-d** 
  - Intel® Virtualization Technology for Directed I/O (VT-d) 的缩写，I/O 的虚拟化技术
  - 如果找不到的话，配置里面设置  `DisableIoMapper`  选项为 YES 也是 OK 的
- **CSM**
  - 容性支持模块
- **Thunderbolt**
  - 雷电，安装的时候雷电口没有关容易引发一些玄学问题，建议关掉省事儿
- **Intel SGX**
  - 也叫做 Software Guard Extensions，是Intel 推出的一种基于 CPU 硬件的安全保障机制
- **Intel Platform Trust**
  - 英特尔平台可信技术，主要用于密钥管理（密钥的加密及存储）和安全认证服务
- **CFG Lock**
  - MSR 0xE2 写保护
  - 必须关闭，如果找不到的话，配置里面设置 `AppleXcpmCfgLock` 选项为 YES 也是 OK 的

### 开启 - Enable

- **VT-x**
  - intel 运用 Virtualization 虚拟化技术中的一个指令集，是CPU的硬件虚拟化技术
- **Above 4G decoding**
  - 4G 以上解码
- **Hyper-Threading**
  - 超线程技术
- **Execute Disable Bit**
  - Intel 新一代处理器的功能，主要做病毒防护使用
- **DVMT Pre-Allocated: 64MB**
  - 分配给DVMT所需要内存大小
- **EHCI/XHCI Hand-off**
  - EHCI/XHCI 切换
- **OS type: Windows 8.1/10 UEFI Mode**
  -  操作系统类型
- **SATA Mode: AHCI** 
  - SATA 磁盘启动模式

## AMD 主板 BIOS 设置

### 关闭 - Disable

- **Fast Boot** 
  - 快速启动
- **Secure Boot** 
  - 安全启动
- **Serial/COM Port** 
  - 串行通讯端口
- **Parallel Port** 
  - 并行端口
- **Compatibility Support Module (CSM)** 
  - 容性支持模块，必须关闭

### 开启 - Enable

- **Above 4G decoding** 
  - 4G 以上解码
  - 必须打开，如果主板找不到的话，就在 **boot-args** 启动参数添加 `npci=0x2000` 也是 OK 的
- **EHCI/XHCI Hand-off** 
  - EHCI/XHCI 切换
- **OS type: Windows 8.1/10 UEFI Mode** 
  - 操作系统类型
- **SATA Mode: AHCI**
  - SATA 磁盘启动模式

## 部分主板的参考案例

### 华擎 AsRock Z490 Steel Legend 钢铁传奇

- 「高级」-「CPU 配置」-「Intel Hyper Threading Technology」-「开启」
- 「高级」-「CPU 配置」-「CFG Lock」-「关闭」
- 「高级」-「CPU 配置」-「Software Guard Extensions（SGX）」-「关闭」
- 「高级」-「芯片组配置」-「Above 4G Decoding」-「启用」
- 「高级」-「芯片组配置」-「VT-d」-「禁用」
- 「高级」-「芯片组配置」-「共享内存」-「64MB」
- 「高级」-「芯片组配置」-「IGPUA 多监视器」-「启用」
- 「高级」-「芯片组配置」-「深度睡眠」-「在 S4-S5 中启用」
- 「高级」-「存储 配置」-「SATA 模式选择」-「AHCI」
- 「高级」-「Intel(R) Thunderbolt」-「Discrete Thunderbolt(TM) Support」-「关闭」
- 「高级」-「ACPI 配置」-「挂起到内存」-「自动」
- 「高级」-「ACPI 配置」-「USB 键盘/远程开机」-「Disabled」
- 「高级」-「ACPI 配置」-「USB 鼠标开机」-「Disabled」
- 「高级」-「USB 配置」-「XHCI Hand-off」-「Enabled」
- 「安全」-「Secure Boot」-「安全引导」-「关闭」
- 「安全」-「Intel(R) Platform Trust Technology」-「禁用」
- 「引导」-「闪速启动」-「关闭」
- 「引导」-「CSM」-「关闭」

### 驰为 CoreBook X 14

- 「Advanced」-「Software Guard Extensions（SGX）」-「**Disabled**」
- 「Advanced」-「Hyper-Threading」-「**Enabled**」
- 「Advanced」-「ACPI Settings」-「Enable Hibernation」-「**Enabled**」
- 「Advanced」-「USB Configuration」-「Legacy USB Support」-「**Enabled**」
- 「Advanced」-「XHCI Hand-off」-「**Enabled**」
- 「Advanced」-「CSM Configuration」-「CSM Support」-「**Disabled**」
- 「Chipset」-「Type C Support」-「**Platform-POR**」
- 「Chipset」-「System Agent (SA) Configuration」-「VT-d」-「**Disabled**」
- 「Chipset」-「Above 4GB MMID BIOS assignment」-「**Enabled**」
- 「Chipset」-「Graphics Configuration」-「DVMT Pre-Allocated」-「**64MB**」
- 「Chipset」-「PCH-IO Configuration」-「SATA Mode Selection」-「**AHCI**」
- 「Security」-「Security Boot」-「Security Boot」-「**Disabled**」
- 「Boot」-「Quiet Boot」-「**Enabled**」
- 「Boot」-「Fast Boot」-「**Disabled**」

###  技嘉 GIGABYTE B360M AORUS PRO

- 【BIOS 功能】-【Windows 8/10】-【其他操作系统】
- 【BIOS 功能】-【CSM 支持】-【关闭】
- 【BIOS 功能】-【安全模式】-【Secure Boot Enable】-【关闭】
- 【集成外设】-【预设启动的显示设备】-【IGFX】（这里用的核显）
- 【集成外设】-【Intel Platform Trust Technology (PTT)】-【关闭】
- 【集成外设】-【Software Guard Extension (SGX)】-【关闭】
- 【集成外设】-【Trusted Computing】-【Security Device Support】-【Disable】
- 【集成外设】-【Super IO 配置】-【Serial Port】-【关闭】
- 【集成外设】-【USB 程序】-【Legacy USB Support】-【开启】
- 【集成外设】-【集成外设】-【XHCI Hand-off】-【开启】
- 【集成外设】-【集成外设】-【USB Mass Storege Driver Support】-【开启】
- 【集成外设】-【Network Stack Configuration】-【Network Stack】-【关闭】
- 【集成外设】-【SATA And RST Configuration】-【SATA Mode Selection】-【AHCI】
- 【芯片组】-【VT-d】-【关闭】
- 【芯片组】-【Internal Graphics】-【启动】
- 【芯片组】-【DVMT Pre-Allocated】-【64M】
- 【芯片组】-【DVMT Total Gfx Mem】-【256M】
- 【芯片组】-【4G 以上解码】-【启动】
- 【芯片组】-【Wake on LAN Enable】-【关闭】
- 【电源管理】-【平台电力管理】-【关闭】
- 【电源管理】-【鼠标唤醒】-【双击】

