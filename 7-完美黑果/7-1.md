# 1. 黑苹果

## 前言

很多朋友自己鼓捣完黑苹果或者花钱请被人帮忙安装好黑苹果后，并不清楚目前自己的黑苹果完美度是多少，所以国光就单独开了这个章节，分享一下我心目中完美的黑苹果。

另外如果有对白苹果下各项参数表现的话，可以参考这个章节[白苹果](/7-完美黑果/7-2.html) 

## 通用部分

这部分笔记本和台式机都可以参考，为啥单独分笔记本和台式机呢？因为台式机很容易完美，但是笔记本的话就有一堆各种各样的问题了，所以下面会单独列出笔记本的部分。

### Intel Power Gadget

intel 官方出品的软件，常用来查看 CPU 的频率、功耗、稳定等相关参数。

官方下载地址为：https://www.intel.com/content/www/us/en/developer/articles/tool/power-gadget.html

先看一个 CPU 正常驱动的软件运行截图：

![](https://image.3001.net/images/20220213/16447316337343.jpg)    

下面分别从上到下依次解释一下各个模块的作用：

- **Power**

  - 显示 CPU 的实时功耗情况
  - 一般这块大家基本上都是正常的，除非少数配置不当，导致 CPU 一直处于超频状态

- **Frequency**

  - 显示 CPU 以及 核显的实时频率
  - 主要关注一下是否高低频正常，不是一直超频状态，或者一直达不到睿频的频率就行了
  - CORE MAX：最大频率，关注一下这个是否达到你 CPU 的睿频的标准
  - CORE AVG：平均频率
  - CORE MIN：最低频率，一般最低频率得低于 1.0 才符合预期，笔记本尤为要关注这一点，因为低频有助于续航
  - CORE REQ：系统预判需要调度的 CPU 频率，理想情况下这个 **REQ 的粉红线要和 AVG 的蓝线曲线走势符合**
  - **GFX AVG**：实际核显达到的频率，如果你的核显没有驱动的话，是看不到这个选项的
  - **GFX REQ**：系统预判需要调用的核显频率，如果你的核显没有驱动的话，是看不到这个选项的

  ------

  

  >关于 GFX REQ 和 GFX AVG 下面是国光自己的研究：
  >
  >如果 UHD630 显卡上面注入的**AAPL, ig-platform-id**为：**`07009B3E`** 或者 **`00009B3E`** 的话，此时正常情况下 GFX REQ 应该一直保持 0.33GHZ（我的白苹果MBP也是如此），只有在一些需要核显加速的场景时（比如 Final Cut Pro 预览时间轴，Screenflow 最高速硬件加速导出视频等），GFX AVG 才会正常工作，频率才可以看出明显的变化。
  >
  >另外如果 UHD 630显卡上面注入的**AAPL, ig-platform-id**为：**`0300C89B`**的话，这表示将 iGPU 核显仅用于计算任务而不驱动显示器，通俗的说是隐藏核显，此时 Geekbench5 这类软件是无法单独使用 UHD630 进行跑分的，但是并不影响核显正常工作。=

------

另外提醒一下，使用 CPU-S 这类软件查看变频档位的话不是很有参考意义，这个国光以前拿白苹果和黑苹果对比过，白苹果的变频档位居然还不如黑苹果多，所以国光认为并不是变频档位越多越好，黑苹果的最高境界应该就是无限接近于白苹果才对。

- **Temperature**
  - CPU  的实时温度
  - 台式机散热厉害的话，基本上日常使用最高温度不会超过 50℃ 吧
  - 笔记本的话，intel 的 CPU 发热一直是硬伤，国光我的白苹果经常温度到 95℃+，早已经习惯了
- **Utilization**
  - CPU 的实时使用率
  - 这个和 Windows 下的任务管理器查看的结果差不多，这里不再赘述了

#### 压力测试

Intel Power Gadget 自带压力测试，可以很方便测试 CPU 和 核显的睿频情况：

![](https://image.3001.net/images/20220212/164467418711.png) 

#### 反面教材

说了这么多，我们来看一个这块有明显问题的截图：


![](https://image.3001.net/images/20220213/16447317239081.jpg)  

图上有几个问题，我们下面来一一列出来：

1. 测试核显的时候，CPU 的 CORE AVG 平均频率上不去，达不到睿频的标准，可以看到很明显的 CPU 频率下跌了
2. CORE REQ 实际上预判了需要 3.47Ghz 的频率，实际上只跑到了 0.40Ghz 的频率

### Hackintool

可以说是黑苹果必备的一个软件了，下载传送门：https://github.com/headkaze/Hackintool/releases

Hackintool 可以看很多驱动的完美情况，我们先一个个来，先看下系统部分，重点关注一下我标记出来的：

![](https://image.3001.net/images/20220212/1644674388451.png) 

- VDA 解码器，这个比较关键，如果不是完美支持的话，你的硬解肯定是不正常的。
- 如果是台式机的话，关注一下是否这里可以看到核显的信息
- 另外关注一下显卡是否支持 Metal，这个是 macOS 下一个很重要图形引擎
- 最后这个 Hackintool 的系统界面不要有一些 ??? 识别不出的信息最好

#### 杂项

![](https://image.3001.net/images/20220213/16447318795376.png) 

- 首先关注网卡是否都内建了
- 蓝牙固件是否可以正常显示，没有的话请尝试重新 [USB 定制](/6-实用姿势/6-1.html)
- 显卡型号识别正常，这里没有核显的原因是因为国光我使用了无头 ID，仅计算使用，也建议大家这样使用
- 音频设备里面除了自带的声卡以外，应该还可看到 HDMI 音频相关
- 硬盘这块没的说，基本上大家都是正常的

#### USB

没有多余的 USB的端口，且正确识别了 USB 类型，速率也均正常，同时记得把网卡等内部设备 Internal 内建一下：

![](https://image.3001.net/images/20220213/16447322128455.png)  

### VideoProc

H264 和 HEVC  的状态应该都是可用状态才比较正常：

![](https://image.3001.net/images/20220213/16447329581762.png) 

### Geekbench5

Geekbench5 单核跑分：1302，多核跑分：8393 分

![](https://image.3001.net/images/20220213/16447369486899.png) 

这个分数比我在 macOS 11.4 Big Sur 上跑的要略低一点，当时跑分 Geekbench5 单核跑分：1314，多核跑分：8687 分 不过这个问题不大，参考一下历届 Mac 跑分，只要跑出 CPU 应有的水平就可以了：[Geekbench5 历届 Mac 跑分情况](https://browser.geekbench.com/mac-benchmarks)

蓝宝石 6600XT 白金版，解锁功耗墙，小超一下，Metal 98462 分，OpenCL 72542 分：

![](https://image.3001.net/images/20220214/16448001734556.png) 

![](https://image.3001.net/images/20220214/16448034866246.png) 

Geekbench5 的显卡跑分这块一直不稳定，误差比较大，大家也不必过多关注 GPU 跑分这块，对了关于 AMD 显卡优化的话，可以参考这个章节：[AMD 免驱独显优化](/6-实用姿势/6-9.html)

### 系统信息

#### NVMExpress

![](https://image.3001.net/images/20220216/16450237272241.png) 

WD  西数系列 TRIM 下工作比较完美，TRIM 是苹果独有的技术，可以提高 SSD 的寿命，在这个 [issue](https://github.com/dortania/bugtracker/issues/192) 下面也列举了一些硬盘与 TRIM 的兼容程序：

![](https://image.3001.net/images/20220216/16450240171228.png) 

如果你的 SSD 不在上述列表，但是不确定是否在 TRIM 下工作良好的话，该怎么判断呢？下面是 TRIM 工作不良好的一些特征：

1.  打开程序比较慢，总是得跳很久
2. 鼠标很容易出现小彩虹
3. 某些情况下甚至经常卡死不动

如果你的引导没有问题的话，那么很大程度上是你的 SSD 和 TRIM 兼容度不行，这个时候只需要在 「Kernel 内核设置」的「SetApfsTrimTimout」设置为 999 即可关闭 TRIM：

![](https://image.3001.net/images/20220216/16450244397579.png) 

#### 以太网

主要关注一下最高链接速度是否跑满了你的网卡硬件标注的规格：

![](https://image.3001.net/images/20220216/16450246714632.png)  

 #### 图形卡

有待补充，暂时不贴图。

台式机的话图形化这里最完美的是看到 1 个显卡，这是 iMac 的默认策略配置。关于有些人可以看到核显和独显，实际上这不是标准的配置，对这个配置感兴趣的朋友可以参考：[台式机双显卡显示](/6-实用姿势/6-4.html) 

第二个有争议的就是显卡这里没有显示了**EFI驱动程序版本**，白苹果基本上都是显示的[这些信息的](/7-完美黑果/7-2.html#独显)。

这种情况在早期 10.15 的时候，第三方显卡通过注入 EFI 驱动程序版本等白果卡的信息，确实对性能提升很有帮助，但是从 Big Sur 11 开始，这种方法已经不再有效了，所以我们不用过多的关注是否显示 EFI 驱动程序版本了。

#### 蓝牙

这块也没啥好说的，如果蓝牙驱动话，这里是可以看到蓝牙的相关信息的，如果你的蓝牙不正常工作的话，很可能与 USB 定制有关，可以参考：[USB 定制](/6-实用姿势/6-1.html)，如果定制好的话，蓝牙还是有问题可能还和这个有关 [macOS 12 蓝牙](/6-实用姿势/6-7.html)。

![](https://image.3001.net/images/20220216/16450259535481.png) 

#### WiFi

主要关注是否支持隔空投送，其他的没有是特别关注的：

![](https://image.3001.net/images/20220216/16450255985904.png) 

关于国家和地区代码这个网上可能也有争议，实际上没有准确权威的结论，国光认为只要正常使用的话，地区代码是无所谓的，当然如果你看着不爽的话，非得改的话，博通网卡确实也支持修改，下面搬运的官方文档：

启动项添加如下参数即可：

- `brcmfx-country=XX`将国家代码更改为 XX (US, CN, #a, ...)，也可以通过引导加载程序中的 DSDT 或 Properties → DeviceProperties 注入



### 声音

支持内置扬声器以及 HDMI 或者 DP 声音输出：

![](https://image.3001.net/images/20220218/16451991088028.jpg) 

同时插上耳机的话，也应该是支持自动切换到耳机设备的。

### 麦克风

系统内置麦克风可以正常识别，Siri 语音助手可以正常交互沟通：

![](https://image.3001.net/images/20220218/1645199330665.jpg)  

### HiDPi

没有 HiDPi 的 macOS 是没有灵魂的，4K 显示器一般默认开启 HiDPi，其他分辨率低一些的显示器得手动开启 HiDPi 了，关于开启的细节可以参考：[开启 HiDPi](/6-实用姿势/6-5.html)

![](https://image.3001.net/images/20220219/16452004986806.jpg) 

### 传感器相关

使用腾讯柠檬清理可以很方便看到 CPU 的温度和转速：

![](https://image.3001.net/images/20220217/16450272093892.png) 

笔记本这块很容易转速无法识别，这块有些笔记本确实是硬伤，确实是无解的，所以我这块一直是随缘的。

iStat Menus 可以看到更详细的温度情况：

![](https://image.3001.net/images/20220217/16450273871284.png)    

这里不知道为啥 iStat Menus 也没有识别到风扇的转速，不过问题不大，这里要关注的一点是 AMD 的这个 GPU 温度也识别， 独显温度没有识别的同学可以参考：[AMD 免驱独显优化](/6-实用姿势/6-9.html)

![](https://image.3001.net/images/20220217/16450275226157.png)  

### AppStore

AppStore 应该可以正常下载 APP，下载和更新应该都是比较丝滑的：

 ![](https://image.3001.net/images/20220216/16450265743921.png) 

这块提一下的原因是，早期使用 Clover 引导的很多人配置不规范，可能导致 AppStore 使用体验很差，所以早日转入 OC 吧，跟着这个教程配置一遍简单的。 

### Blackmagic Disk Speed Test

这个软件可以直接在 AppStore 商店下载，可以测试下你的 SSD 读写速度是否正常：

![](https://image.3001.net/images/20220216/16450262776331.png) 

如果你的 SSD 读写速度很明显低于标称规格的话，那么很可能是你的 SSD 和 TRIM 支持不良好，具体解决细节可以参考：[通用部分 - 系统信息 - NVMExpress](/7-完美黑果/7-1.html#系统信息)

### Blackmagic RAW Speed Test

这个软件可以直接在 AppStore 商店下载，用于测试 CPU 和显卡的性能表现，下图是 i7-10700 和 RX 6600XT 的测试结果：

![](https://image.3001.net/images/20220217/16451102673301.png) 

可以看到短板是我的 i7-10700 CPU 了，当然是和显卡相比的情况下，不过实际上这个 CPU 国光我用来作为日常生产力已经绰绰有余了。  

### 信息

如果你还有 iOS 设备的话，那么你的 macOS 上的短信应该可以正常发送的：

![](https://image.3001.net/images/20220217/16451124427589.jpg) 

同理也应该可以正常接收：

![](https://image.3001.net/images/20220217/16451125087196.jpg) 

 如果你有 iOS 设备，网卡确定也是合格的话，依然不可以接收和发送短信的话，那么只需要如下配置一下就 OK 了，先在 macOS 上面对信息进行如下设置：

![](https://image.3001.net/images/20220217/16451126654893.jpg) 

然后 iOS 这边进行如下设置：

![](https://image.3001.net/images/20220217/1645112779202.jpeg)    

### iCloud

围绕着 iCloud 等周边功能也应该可以正常使用：

![](https://image.3001.net/images/20210705/1625477187781.png)

### 隔空投送

在 iOS、iPadOS、macOS 设备直接互相传输文件，目前博通系列的免驱无线网卡都可以做到：

![](https://image.3001.net/images/20210714/16262583708801.png)  

### 接力

macOS 上可以直接在程序坞的右下角直接打开 iOS 和 iPadOS 的系统级别应用：

![](https://image.3001.net/images/20220217/16451130891375.jpg)  

### 跨设备粘贴

实际上 macOS 12.3 后面的通用控制更强大，再次之前只能简单的通过剪贴板跨设备粘贴文字之类的：

![](https://image.3001.net/images/20220217/16451134047441.jpg) 

### 随航

这个和无线网卡有关，如果无线网卡免驱的话，理论上可以无线模式下随航，否则只能在有线模式下正常工作，随航的作用是将 iPad 当中 macOS 的显示器使用：

![](https://image.3001.net/images/20220217/164511083231.png) 

这样可以让闲置的 iPad 重新利用起来，用来挂个 QQ 和微信还是美滋滋的。

### 通用控制

macOS 12.3 开始正式支持通用控制功能，这个功能比随航就更加实用了，可以直接使用 macOS 的键盘和鼠标去操作你的 iPad，鼠标直接划过去就行了：

![](https://image.3001.net/images/20220217/16451119667345.jpg) 

这个和随航在设置里面的区别就是，通用控制的 iPad 和显示器不是挨边靠着的，而随航是贴在一起的。这个也可以在控制中心那边直接连接：

![](https://image.3001.net/images/20220217/16451109186520.png)   

这里小提一下，我这个显示器这边的亮度滑块无法使用，这是因为第三方显示器的原因，使用苹果自家的显示器理论上可以调节的。不过第三方显示器也不要灰心，使用开源下面 [MonitorControl](https://github.com/MonitorControl/MonitorControl/releases/) 也是可以实现第三方显示器的亮度和音量调节的，十分方便：

![](https://image.3001.net/images/20220217/16451120346440.jpg)  

## 笔记本专题

笔记本很多参考上面的通用部分即可，笔记本主要关注的就是睡眠、电池、触控板、快捷键、亮度调节。

### 触控板

触控板的应该支持多指手势，且体验应该得丝滑：

![](https://image.3001.net/images/20220227/16459602514182.jpg)

### 触控板进阶

触控板应该工作在最高效的 GPIO 模式，而不是大众的轮训模式：

![](https://image.3001.net/images/20220227/16459603111142.png) 

上图存在 gpioPin 和 gpioIRQ 就是 GPIO 中断模式的标志，或者你看 dmesg 日志也可以判断出来，关于触控板进阶可参考我的这篇文章：[触控板中断示例](/6-实用姿势/6-3.html) 

### 亮度调节

![](https://image.3001.net/images/20220227/16459600012550.png) 

如果你的笔记本没有打 [SSDT-PNLF.aml](https://github.com/dortania/Getting-Started-With-ACPI/blob/master/extra-files/compiled/SSDT-PNLF.aml) SSDT 的话，请打上再检测看看。

如果依然不行的话，尝试启动项添加：

- `-igfxblr`引导参数（或者 `enable-backlight-registers-fix`属性）修复 KBL、CFL 和 ICL 平台上的背光寄存器。

其他可能对你有帮助的启动项：

- `-igfxbls` 引导参数（或者 `enable-backlight-smoother`属性）以使 IVB+ 平台上的亮度过渡更平滑。

### 快捷键

笔记本各个快捷键应该都正常使用：

![亮度快捷键](https://image.3001.net/images/20220227/16459604822063.jpg) 

![声音快捷键](https://image.3001.net/images/20220227/16459605093086.jpg)  

一般来说 [**BrightnessKeys.kext**](https://github.com/acidanthera/BrightnessKeys/releases) 笔记本亮度快捷键驱动就足够了，或者你技术可以的话，自己去写 SSDT 定制理论上也 OK 的。

### 电池

首先充电状态和非充电状态应该是可以正常丝滑切换的，而且电池没有提示不健康：

 ![](https://image.3001.net/images/20220227/16459608796183.jpg) 

  

 用电历史也应该是正常的：

![](https://image.3001.net/images/20220227/16459615381033.png) 

电池选项里面也有 7 个选项：

![](https://image.3001.net/images/20220227/16459615656568.jpg) 

使用 sensi 健康度和温度也应该是正常的：

![](https://image.3001.net/images/20220227/16459616848040.jpg) 

不过我这里的生成日期啥的信息没有完善，这又不是不能用？？？   



## 支持一下

本文也贴了不少图，写起来还是比较耗费时间的，估计有白苹果的人还研究黑苹果的人少之又少吧。黑苹果这块我也确实不打算耗费太多时间了，慢慢收尾了，后面还是搞我的本职工作去了。

在这个喧嚣浮躁的时代，坚持写博客输出原创文章的人还有多少呢？写博客感觉一直是用爱发电的状态......

如果你恰巧财力雄厚，感觉本文对你有所帮助的话，可以考虑打赏一下本文，用以维持高昂的服务器运营费用（域名费用、服务器费用、CDN 费用等）

<table>
    <tr>
        <td>微信
            <center><img src="https://image.3001.net/images/20200421/1587449920128.jpg " width="70%"></center>
        </td>
        <td width="50%">
          支付宝
            <center><img src="https://image.3001.net/images/20200421/15874503376388.jpg" width="70%"></center>
        </td>
    </tr>
</table>

国光我也写了一个打赏页面用以感谢支持我的朋友，详情请看 [打赏列表 | 国光](https://www.sqlsec.com/dashang.html)

## 打个广告

目前已经有的资料和教程足够动手能力强的网友自己去安装黑苹果了，但是也有一些网友没有时间学习完教程，或者设备比较复杂遇到的问题
都很奇葩难以靠已有的知识去解决，

所以铛铛铛，国光我就抓住了这个用户痛点，咸鱼上挂了这个宝贝，嘿嘿嘿（手动狗头）

我这个服务适合什么样的人群呢？

1. 自己了解基本的黑苹果原理，最起码知道给你 EFI 自己如何替换安装
2. 掌握基本的 Windows 安装技巧，这个应该都懂的吧，否则也不会想折腾黑苹果了
3. 对黑苹果感兴趣，想体验黑苹果但是没有时间系统学习教程的
4. 手上的设备太过小众冷门的，网上没有相关的资料可以解决
5. 强迫症患者，对黑苹果完美度要求比较高，忍受不了各种小毛病
   ....

![](https://image.3001.net/images/20220319/16476611133376.png) 

感兴趣可以去咸鱼看看哦：

![](https://image.3001.net/images/20220319/16476612238377.jpg) 

期间遇到的典型疑难杂症国光我也会同步更新到这个教程里面去的，可以帮助更多的人少走弯路，何乐不为呢？
