# 4. 台式机双显卡显示

## 前言

首先说明一下这个双显卡指的不是两个独显，而且核显和独显，就像下面这个图一样，可以看到核显和独显都可以正常显示：

![](https://image.3001.net/images/20220212/16446323248620.png) 

实际上这个台式机双显卡配置不是最标准的配置，但是有些网友就比较好奇怎么做到的，这个[问题](https://github.com/sqlsec/MSI-MAG-B560M-MORTAR-i7-10700/issues/8)被问了很久了：

![](https://image.3001.net/images/20220212/16446322411377.png) 

既然如此，不如直接开一个章节记录分享一下吧，实际上还是非常简单的。

 ## 核显仅计算

下面是国光我的黑苹果台式机平常使用的默认策略（因为不怎么使用 HDMI 所以没有定制接口数据）：

![](https://image.3001.net/images/20220213/16447223759902.png)  

AAPL,ig-platform-id 这里使用的是 `0300C89B`，不输出信号（因为已经有独显了），而且白苹果的 iMac 默认也是这个调度策略，即核显仅计算，不驱动显示器，完整的 UHD 630 的 AAPL,ig-platform-id 可参考下表：

| AAPL,ig-platform-id | 解释说明                                              |
| :------------------ | :---------------------------------------------------- |
| **`07009B3E`**      | 当桌面 iGPU 用于驱动显示器时使用                      |
| **`00009B3E`**      | 如果`07009B3E` 不起作用的话，可以考虑使用这个 ID 看看 |
| **`0300C89B`**      | 当桌面 iGPU 仅用于计算任务而不驱动显示器时使用        |

- device-id：9B3E0000 
  - 解决一些驱动异常问题，提高兼容度

可以看到国光我 DeviceProperties 这里，显卡部分并没有注入很多参数，这是因为我的 BIOS 设置了 `DVMT Pre-Allocated: 64MB`，所以并不需要 framebuffer-patch-enable、framebuffer-stolenmem 以及 framebuffer-fbmem 参数了。



这种情况下我们来打开各个软件识别一下：

![](https://image.3001.net/images/20220212/16446510483478.png) 

可以看到  Hackintool 的杂项里面和系统信息里面也只识别到了 1 个独显，Intel Power Gadget 里面检测到了核显的频率，Video Proc 双硬解正常。

## 让核显驱动显示器

既然知道是核显没有驱动显示器的原因，我们直接将  AAPL,ig-platform-id 改为 `07009B3E` 试试看呢：

![](https://image.3001.net/images/20220213/16447223477291.png)  

现在我看下各个软件的识别情况： ![](https://image.3001.net/images/20220212/16446525224302.png) 

可以看到除了 Hackintool 这里识别到了两个显卡以外，其他软件并没有啥变化，系统信息里面依然只可以看到独显。

另外补充一下，使用 GeekBench 5 跑分软件也是可以识别到两个显卡了：

![](https://image.3001.net/images/20220212/16446536248013.png)  

虽然有进展了，但是系统信息里面依然没有识别到显卡，所以革命尚未成功，我们仍需努力。

## 系统信息显示独显和核显

实际上这个姿势非常小众，和你的 OC 配置关系都不大了。这个问题我最终在远景里面得到了答案，原贴地址为：

[台式机完美的显示独显和核显的正确姿势是？](https://bbs.pcbeta.com/viewthread-1920126-1-1.html)

最终 12F 给出了正确答案：
![](https://image.3001.net/images/20220213/1644722687612.png) 

确实，这个实际上和主板是有关系的，主板里面设置核显优先显示就 OK 了，现在想一下为啥我的室友那个成功了呢？是因为当初矿潮，他一开始是用核显的，独显是后加的，所以后面才纯属巧合出现了双显卡的情况。 



国光我的主板为 AsRock 华擎的 Z490 钢铁传奇，我的 BIOS 只需要开启如下两个设置即可：

- 「高级」-「芯片组配置」-「主图形适配器」-「**板载**」
- 「高级」-「芯片组配置」-「IGPU 多监视器」-「**启用**」
  - 如果不启用的话，在有独显的情况下，会禁用掉核显
  - 很多技嘉的 B 系列主板默认就是禁用的 很难受

那么我们来看一下最终的效果图：

![](https://image.3001.net/images/20220213/16447231169209.png) 

再看下核显的情况：

![=](https://image.3001.net/images/20220213/16447231479471.png)  

最后上一个总的图就差不多了：

![](https://image.3001.net/images/20220213/16447234089799.jpg) 

## 提醒一下

我写这个章节只是纯属好奇，实际上这个姿势并不实用。

在台式机有免驱独显的情况下，不建议开启核显作为显示器输出，所以建议搭建进 BIOS 里面依然设置 PCIE 独显为主要的显示设备，然后进 OC 换一个不做显示输出的 **AAPL,ig-platform-id**，因为这是 iMac 白苹果的默认策略，黑苹果的最高境界就是向白苹果靠拢，另外同时也会提高开机的速度，缩短开机时间，何乐而不为呢？

## 支持一下

在这个喧嚣浮躁的时代，坚持写博客输出原创文章的人还有多少呢？写博客感觉一直是用爱发电的状态......

如果你恰巧财力雄厚，感觉本文对你有所帮助的话，可以考虑打赏一下本文，用以维持高昂的服务器运营费用（域名费用、服务器费用、CDN 费用等）

<table>
    <tr>
        <td>微信
            <center><img src="https://image.3001.net/images/20200421/1587449920128.jpg " width="70%"></center>
        </td>
        <td width="50%">
          支付宝
            <center><img src="https://image.3001.net/images/20200421/15874503376388.jpg" width="70%"></center>
        </td>
    </tr>
</table>

国光我也写了一个打赏页面用以感谢支持我的朋友，详情请看 [打赏列表 | 国光](https://www.sqlsec.com/dashang.html)

